{
    "$schema": "https://json-schema.org/schema#",
    "type": "object",
    "properties": {
        "Specification": {
            "type": "object",
            "properties": {
                "Stains":{
                    "type": "array",
                    "items": {
                        "type": "object",
                        "description": "Stain marker names are keys to these properites.",
                        "properties":{
                            "MarkerName":{
                                "type":"string",
                                "description":"Short name unique to each entry."
                            },
                            "FullName":{
                                "type":"string",
                                "description":"Descriptive name that is used in raw data to refer to the Stain."
                            },
                            "LineageMarker":{
                                "type":["boolean", "null"],
                                "description":"This marker is expected to be used in determining mutually exclusive cell phenotypes."
                            },
                            "Thresholding":{
                                "type":["boolean", "null"],
                                "description":"This marker is expected to be set by a threshold to call it as positive or negative."
                            },
                            "Compartment":{
                                "type":"string",
                                "description":"Which cellular component this marker is expected to stain.",
                                "enum":["Nuclear","Membrane","Whole Cell","Other"]
                            }
                            
                        },
                        "required":["MarkerName","FullName"]
                    }
                },
                "Rules":{
                    "type":"object",
                    "properties":{
                        "MutuallyExclusivePhenotypes":{
                            "type":"array",
                             "description": "Names used to phenotype cells."
                        },
                        "Thresholds":{
                            "type":"array",
                             "description": "Stain abbreviations that have already been analyzed by threshold as positive/negative."
                        },
                        "MutuallyExclusiveRegions":{
                            "type":"array",
                            "description": "The labels of mutually exclusive regions."
                        }
                    }
                }
            },
            "required":["Stains","Rules"]
                    
        },
        "Meta": {
            "type": "object",
            "properties":{
                "Name":{
                    "type":"string",
                    "description":"The panel name."
                },
                "Description":{
                    "type":"string",
                    "description":"A description of the panel."
                },
                "Version":{
                    "type":"string",
                    "description":"A version of the panel."
                },
                "Platform":{
                    "type":"string",
                    "description":"The platform this panel was built for."
                }
            }
        }
    },
    "required": ["Specification","Meta"]
}
